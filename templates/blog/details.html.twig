{% extends 'base.html.twig' %}

{% block title %}SnowTricks - {{ trick.title }} {% endblock %}

{% block header %}
    <header class="masthead">
        <div class="container">
        {% for idImage in trick.idImages|slice(0,1) %}
        <style>.masthead { background-image: url('{{ idImage.path}}');}</style>
        {% endfor %}
        <div class="container h-100">
            <div class="row h-100 align-items-center">
                <div class="col-12 text-center">
                    <h1 class="fw-light">{{ trick.title }}</h1>
                </div>
            </div>
        </div>
        </div>
    </header>
{% endblock %}
{% block body %}
{# Carrousels image et video #}
    <section id="galerie">
        <div class="container">
            <div class="raw col-12 ">
            <div id="carouselImages" class="carousel slide col-5" data-ride="carousel">
                {% for idImage in trick.idImages|slice(0,1) %}
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img class="d-block w-100" src="{{ idImage.path}}" alt="First slide">
                    </div>
                    {% endfor %}
                    {% for idImage in trick.idImages %}
                    <div class="carousel-item">
                        <img class="d-block w-100" src="{{ idImage.path}}" alt="slides">
                    </div>
                    {% endfor %}
                </div>
                <a class="carousel-control-prev" href="#carouselImages" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselImages" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
            <div id="carouselVideos" class="carousel slide col-5" data-ride="carousel">
                {% for idVideo in trick.idVideos|slice(0,1) %}
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img class="d-block w-100" src="{{ idVideo.path}}" alt="First slide">
                    </div>
                    {% endfor %}
                    {% for idVideo in trick.idVideos %}
                        <div class="carousel-item">
                            <img class="d-block w-100" src="{{ idVideo.path}}" alt="slides">
                        </div>
                    {% endfor %}
                </div>
                <a class="carousel-control-prev" href="#carouselVideos" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselVideos" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
            </div>
        </div>
    </section>
{# Contenu du trick #}
<section id="content">
    <div class="container">
        <p>{{ trick.content}}</p>
    </div>
</section>

    {# Informations du trick #}
    <section id="informations">
        <div class="container">
            <p>{{ trick.createdAt|date('d-m-Y') }}</p>
            <p>{{ trick.category.title}}</p>
            <br/>
            <HR>
            <br/>
            <br/>
            <HR>
            <br/>
            <br/>
        </div>
    </section>
    {# Contenu du trick #}
    <section id="comments">
        {% for comment in trick.comments %}
        <div class="comments">
            <div class="row">
                <div class="col-3">
            {{ comment.author}} (<small>{{ comment.createAt|date('d-m-Y Ã  H:i') }}</small>)
                </div>
                <div class="col">
                    {{ comment.content | raw }}
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    <br/>
    <br/>
    <br/>
{% endblock %}

